{% extends "layout.html" %}

{% block content %}
    <form action="/" method="post">
        <div class="select-group">
            <label for="tipo_servico"><i class="fas fa-cogs"></i> Tipo de Serviço:</label>
            <select id="tipo_servico" name="tipo_servico" required>
                <option value="" selected disabled>Selecione um serviço</option>
                <option value="INSTALAÇÃO FIBRA ÓPTICA">Instalação Fibra Óptica</option>
                <option value="MIGRAÇÃO FIBRA ÓPTICA">Migração Fibra Óptica</option>
                <option value="INSTALAÇÃO VIA RÁDIO">Instalação Via Rádio</option>
                <option value="SERVIÇO EM TORRES">Serviço em Torres</option>
                <option value="MUDANÇA DE ENDEREÇO">Mudança de Endereço</option>
                <option value="LENTIDÃO">Lentidão</option>
                <option value="SEM INTERNET">Sem Internet</option>
                <option value="TROCA DE EQUIPAMENTO">Troca de Equipamento</option>
                <option value="MANUTENÇÃO">Manutenção</option>
                <option value="RETIRADA DE EQUIPAMENTOS">Retirada de Equipamentos</option>
            </select>
        </div>
        
        <div class="input-group" id="cliente-div">
            <label for="cliente"><i class="fas fa-user"></i> Cliente:</label>
            <input type="text" id="cliente" name="cliente" required>
        </div>
        
        <div id="campos-fibra" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-tools"></i> Material Utilizado</h2>
            <div class="row">
                <div>
                    <label for="cabo_quantidade_fibra"><i class="fas fa-ruler-horizontal"></i> Metros de DROP:</label>
                    <input type="number" id="cabo_quantidade_fibra" name="cabo_quantidade_fibra">
                </div>
                <div>
                    <label for="conector_quantidade_fibra"><i class="fas fa-plug"></i> Conectores verdes:</label>
                    <input type="number" id="conector_quantidade_fibra" name="conector_quantidade_fibra">
                </div>
                <div>
                    <label for="adaptador_quantidade_fibra"><i class="fas fa-link"></i> Acopladores/emendas:</label>
                    <input type="number" id="adaptador_quantidade_fibra" name="adaptador_quantidade_fibra">
                </div>
                <div>
                    <label for="alcas_fibra"><i class="fas fa-grip-lines"></i> Alças:</label>
                    <input type="number" id="alcas_fibra" name="alcas_fibra">
                </div>
            </div>
            <h2 class="fs-5"><i class="fas fa-ethernet"></i> Equipamento</h2>
            <div class="input-group">
                <label for="onu_ont"><i class="fas fa-wifi"></i> ONU/ONT (Modelo):</label>
                <input type="text" id="onu_ont" name="onu_ont">
            </div>
            <div class="input-group">
                <label for="pon"><i class="fas fa-barcode"></i> PON (Serial):</label>
                <input type="text" id="pon" name="pon">
            </div>
            <div class="input-group">
                <label for="smart_pro_tv_box"><i class="fas fa-tv"></i> SMART PRO TV BOX:</label>
                <input type="number" id="smart_pro_tv_box" name="smart_pro_tv_box">
            </div>
        </div>
        
        <div id="campos-radio" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-tools"></i> Material Utilizado</h2>
            <div class="row">
                <div>
                    <label for="cabo_quantidade_radio"><i class="fas fa-ruler-horizontal"></i> Metros de CABO DE REDE:</label>
                    <input type="number" id="cabo_quantidade_radio" name="cabo_quantidade_radio">
                </div>
                <div>
                    <label for="conector_quantidade_radio"><i class="fas fa-plug"></i> Conectores RJ-45:</label>
                    <input type="number" id="conector_quantidade_radio" name="conector_quantidade_radio">
                </div>
                <div>
                    <label for="adaptador_quantidade_radio"><i class="fas fa-link"></i> Acopladores/emendas:</label>
                    <input type="number" id="adaptador_quantidade_radio" name="adaptador_quantidade_radio">
                </div>
                <div>
                    <label for="alcas_radio"><i class="fas fa-grip-lines"></i> Alças:</label>
                    <input type="number" id="alcas_radio" name="alcas_radio">
                </div>
            </div>
            <h2 class="fs-5"><i class="fas fa-broadcast-tower"></i> Equipamento</h2>
            <div class="input-group">
                <label for="roteador"><i class="fas fa-router"></i> Roteador:</label>
                <input type="text" id="roteador" name="roteador">
            </div>
            <div class="select-group">
                <label for="antena"><i class="fas fa-satellite-dish"></i> Antena:</label>
                <select id="antena" name="antena">
                    <option value="">Selecione a Antena</option>
                    <option value="LITEBEAM M5">LITEBEAM M5</option>
                    <option value="LHG 24 DBI">LHG 24 DBI</option>
                    <option value="LHG 27 DBI">LHG 27 DBI</option>
                </select>
            </div>
            <div class="input-group">
                <label for="smart_pro_tv_box_radio"><i class="fas fa-tv"></i> SMART PRO TV BOX:</label>
                <input type="number" id="smart_pro_tv_box_radio" name="smart_pro_tv_box">
            </div>
        </div>
        
        <div id="campos-torres" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-tools"></i> Serviço em Torres</h2>
            <div class="input-group">
                <label for="numero_torre"><i class="fas fa-map-marker-alt"></i> Número da Torre:</label>
                <input type="text" class="form-control" id="numero_torre" name="numero_torre" placeholder="Ex: TORRE 66" required>
            </div>
            <div class="row">
                <div>
                    <label for="cabo_quantidade_torre"><i class="fas fa-ruler-horizontal"></i> Metros de cabo:</label>
                    <input type="number" id="cabo_quantidade_torre" name="cabo_quantidade_torre">
                </div>
                <div>
                    <label for="cabo_tipo_torre"><i class="fas fa-stream"></i> Tipo de Cabo:</label>
                    <select id="cabo_tipo_torre" name="cabo_tipo_torre">
                        <option value="">Nenhum</option>
                        <option value="DROP">DROP</option>
                        <option value="CABO DE REDE">CABO DE REDE</option>
                    </select>
                </div>
                <div>
                    <label for="conector_quantidade_torre"><i class="fas fa-plug"></i> Conectores:</label>
                    <input type="number" id="conector_quantidade_torre" name="conector_quantidade_torre">
                </div>
                <div>
                    <label for="conector_tipo_torre"><i class="fas fa-link"></i> Tipo de Conector:</label>
                    <select id="conector_tipo_torre" name="conector_tipo_torre">
                        <option value="">Nenhum</option>
                        <option value="conectores verdes">CONECTORES VERDES</option>
                        <option value="conectores RJ-45">CONECTORES RJ-45</option>
                    </select>
                </div>
                <div>
                    <label for="adaptador_quantidade_torre"><i class="fas fa-link"></i> Acopladores/emendas:</label>
                    <input type="number" id="adaptador_quantidade_torre" name="adaptador_quantidade_torre">
                </div>
                <div>
                    <label for="alcas_torre"><i class="fas fa-grip-lines"></i> Alças:</label>
                    <input type="number" id="alcas_torre" name="alcas_torre">
                </div>
            </div>
            <h2 class="fs-5"><i class="fas fa-wrench"></i> Outros Equipamentos</h2>
            <div class="input-group">
                <label for="outros_equipamentos_torre"><i class="fas fa-tools"></i> Detalhe os equipamentos:</label>
                <textarea id="outros_equipamentos_torre" name="outros_equipamentos_torre" rows="3"></textarea>
            </div>
        </div>
        
        <div id="campos-manutencao" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-wrench"></i> Material e Equipamento</h2>
            <div class="row">
                <div>
                    <label for="cabo_quantidade_manutencao"><i class="fas fa-ruler-horizontal"></i> Metros de cabo:</label>
                    <input type="number" id="cabo_quantidade_manutencao" name="cabo_quantidade_manutencao">
                </div>
                <div>
                    <label for="cabo_tipo"><i class="fas fa-stream"></i> Tipo de Cabo:</label>
                    <select id="cabo_tipo" name="cabo_tipo">
                        <option value="">Nenhum</option>
                        <option value="DROP">DROP</option>
                        <option value="CABO DE REDE">CABO DE REDE</option>
                    </select>
                </div>
                <div>
                    <label for="conector_quantidade_manutencao"><i class="fas fa-plug"></i> Conectores:</label>
                    <input type="number" id="conector_quantidade_manutencao" name="conector_quantidade_manutencao">
                </div>
                <div>
                    <label for="conector_tipo"><i class="fas fa-link"></i> Tipo de Conector:</label>
                    <select id="conector_tipo" name="conector_tipo">
                        <option value="">Nenhum</option>
                        <option value="conectores verdes">CONECTORES VERDES</option>
                        <option value="conectores RJ-45">CONECTORES RJ-45</option>
                    </select>
                </div>
                <div>
                    <label for="adaptador_quantidade_manutencao"><i class="fas fa-link"></i> Acopladores/emendas:</label>
                    <input type="number" id="adaptador_quantidade_manutencao" name="adaptador_quantidade_manutencao">
                </div>
                <div id="alcas-div-manutencao">
                    <label for="alcas_manutencao"><i class="fas fa-grip-lines"></i> Alças:</label>
                    <input type="number" id="alcas_manutencao" name="alcas_manutencao">
                </div>
            </div>
            <div id="equipamento-manutencao" style="display: none;">
                <h2 class="fs-5"><i class="fas fa-ethernet"></i> Equipamento</h2>
                <div class="input-group">
                    <label for="onu_ont_manutencao"><i class="fas fa-wifi"></i> ONU/ONT (Modelo):</label>
                    <input type="text" id="onu_ont_manutencao" name="onu_ont_manutencao">
                </div>
                <div class="input-group">
                    <label for="pon_manutencao"><i class="fas fa-barcode"></i> PON (Serial):</label>
                    <input type="text" id="pon_manutencao" name="pon_manutencao">
                </div>
                <div class="input-group">
                    <label for="smart_pro_tv_box_manutencao"><i class="fas fa-tv"></i> SMART PRO TV BOX:</label>
                    <input type="number" id="smart_pro_tv_box_manutencao" name="smart_pro_tv_box_manutencao">
                </div>
            </div>
        </div>
        
        <div id="campos-troca" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-sync-alt"></i> Troca de Equipamento</h2>
            <div class="input-group">
                <label for="mac_retirado"><i class="fas fa-tag"></i> MAC/Serial do Equipamento Retirado:</label>
                <input type="text" id="mac_retirado" name="mac_retirado" required>
            </div>
            <div class="input-group">
                <label for="mac_novo"><i class="fas fa-tag"></i> MAC/Serial do Equipamento Novo:</label>
                <input type="text" id="mac_novo" name="mac_novo" required>
            </div>
        </div>
        
        <div id="campos-retirada" style="display: none;">
            <h2 class="fs-5"><i class="fas fa-box-open"></i> Equipamentos Retirados</h2>
            <div class="input-group">
                <label for="mac_retirado_retirada"><i class="fas fa-tag"></i> MAC/Serial da ONU/ONT/Roteador Retirado:</label>
                <input type="text" id="mac_retirado_retirada" name="mac_retirado_retirada" required>
            </div>
            <div class="input-group">
                <label for="smart_tv_box_retirada"><i class="fas fa-tv"></i> SMART PRO TV BOX (Serial - Opcional):</label>
                <input type="text" id="smart_tv_box_retirada" name="smart_tv_box_retirada">
            </div>
        </div>
        
        <div class="input-group">
            <label for="observacoes"><i class="fas fa-comment-dots"></i> Observações (Opcional - Preencher se necessário):</label>
            <textarea id="observacoes" name="observacoes" rows="3"></textarea>
        </div>
        
        <div class="input-group">
            <label for="data_instalacao"><i class="fas fa-calendar-alt"></i> Data:</label>
            <input type="date" id="data_instalacao" name="data_instalacao">
        </div>
        
        <button type="submit" class="btn-primary"><i class="fas fa-file-alt"></i> Gerar Relatório</button>
    </form>
    
    {% if relatorio %}
        <hr>
        <h3 class="fs-5"><i class="fas fa-clipboard-list"></i> Relatório Gerado:</h3>
        <pre id="relatorio-texto">{{ relatorio }}</pre>
        <div class="button-group">
            <button class="btn-success" onclick="copiarRelatorio()"><i class="fas fa-copy"></i> Copiar</button>
            <button class="btn-whatsapp" onclick="compartilharWhatsApp()"><i class="fab fa-whatsapp"></i> WhatsApp</button>
            <button class="btn-secondary" onclick="limparRelatorio()"><i class="fas fa-times"></i> Limpar</button>
        </div>
    {% endif %}

{% endblock %}
